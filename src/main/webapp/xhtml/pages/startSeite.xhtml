<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    template="../templates/default_structure_template.xhtml">

    <ui:define name="content">
        <f:metadata>
            <f:viewAction action="#{loginBean.onLoad}" />
        </f:metadata>

        <h:form role="form">

            <div class="container">
                <!-- erster DateTimepicker -->

                <h:outputLabel>Stempelung von:</h:outputLabel>
                <div class="row">

                    <div class='col-sm-5'>
                        <div class="form-group">
                            <div class='input-group date date_picker'
                                id='datetimepicker1'>
                                <h:inputText type='text' id="fromDateStartPage"
                                    class="form-control"
                                    value="#{stampingBean.fromDate}">
                                    <f:convertDateTime
                                        pattern="dd.MM.yyyy" />
                                </h:inputText>
                                <span class="input-group-addon">
                                    <span
                                    class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="container">
                <!-- zweiter DateTimepicker -->

                <h:outputLabel>Stempelung bis:</h:outputLabel>
                <div class="row">


                    <div class='col-sm-5'>
                        <div class="form-group">
                            <div class='input-group date date_picker'
                                id=''>
                                <h:inputText type='text' id="untilDateStartPage"
                                    class="form-control"
                                    value="#{stampingBean.untilDate}">
                                    <f:convertDateTime
                                        pattern="dd.MM.yyyy" />
                                </h:inputText>
                                <span class="input-group-addon">
                                    <span
                                    class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="container">
                <br />
                <h:commandButton
                        value="Anzeigen"
                        action="#{stampingBean.getStamps}"
                        styleClass="btn btn-info btn-sm" />
            </div>

            <hr />
            <h4>Stempelungen</h4>
            <br />

            <h:dataTable value="#{stampingBean.stampingListAll}"
                var="stampingList" class="table table-hover table-bordered ">
            <!--        binding="#{stampingBean.datatableStamping}">-->
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Datum" />
                    </f:facet>
                    <h:outputText value="#{stampingList.stampingTime}">
                        <f:convertDateTime pattern="dd.MM.yyyy" />
                    </h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Zeit von" />
                    </f:facet>
                    <h:outputText value="#{stampingList.stampingTime}">
                        <f:convertDateTime pattern="HH:mm"
                            timeZone="GMT+2" />
                    </h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Kommentar" />
                    </f:facet>
                    <h:outputText value="#{stampingList.comment}">
                    </h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Bearbeiten" />
                    </f:facet>
                    <h:commandLink id="bearbeiten1" value=""
                    action="#{manageStampingBean.selectRow(stampingList)}" >
                    <button class="btn btn-xs btn-warning"
                    >
                        <i class="fa fa-pencil"></i>

                    </button>
                       </h:commandLink>

                </h:column>
<!--  
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Zeit bis" />
                    </f:facet>
                    <h:outputText value="#{stampingBean.getStampingList2(indexOf(stampingList)).stampingTime}">
                        <f:convertDateTime pattern="HH:mm"
                            timeZone="GMT+2" />
                    </h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Bearbeiten" />
                    </f:facet>
                    <button class="btn btn-xs btn-warning">
                        <i class="fa fa-pencil"></i>
                    </button>
                </h:column>
                -->
            </h:dataTable>
            <hr />


        </h:form>


    </ui:define>
</ui:composition>