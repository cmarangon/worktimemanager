<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
    template="../templates/default_structure_template.xhtml">

    <ui:define name="content">
        <f:metadata>
            <f:viewAction action="#{publicHolidaysBean.onLoad()}" />
        </f:metadata>

        <div class="col-xs-6 col-lg-5">
            <div class="col-xs-12 col-lg-12">
                <div class="page-content">
                    <h:form styleClass="form-horizontal">
                        <h:dataTable class="table table-hover"
                            value="#{publicHolidaysBean.allPublicHolidays}"
                            var="publicHoliday">

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText
                                        value="#{texts.public_holidays_name}" />
                                </f:facet>

                                <h:outputText
                                    value="#{publicHoliday.title}" />
                            </h:column>
                            <h:column>
                                <h:commandButton
                                    action="#{publicHolidaysBean.updatePublicHolidayBtn(publicHoliday)}"
                                    value="#{texts.public_holidays_button_modify}" />
                            </h:column>
                        </h:dataTable>
                    </h:form>
                </div>
            </div>

            <div class="col-xs-12 col-lg-12">
                <div class="page-content">
                    <h:form styleClass="form-horizontal">
                        <div class="form-group">
                            <h:outputLabel
                                styleClass="col-xs-6 col-lg-5"
                                value="#{texts.public_holidays_title}"></h:outputLabel>

                            <div class="col-xs-6 col-lg-5">
                                <h:inputText id="title"
                                    styleClass="form-control"
                                    a:placeholder="#{texts.public_holidays_title_placeholder}"
                                    value="#{publicHolidaysBean.newPublicHoliday.title}"
                                    a:required="true" />
                            </div>
                        </div>
                        <div class="form-group">
                            <h:outputLabel
                                styleClass="col-xs-6 col-lg-5"
                                value="#{texts.public_holidays_dayOfTheYear}"></h:outputLabel>

                            <div class="col-xs-6 col-lg-5">
                                <h:inputText styleClass="form-control"
                                    value="#{publicHolidaysBean.newPublicHoliday.dayOfTheYear}"
                                    a:placeholder="#{texts.public_holidays_day_of_the_year_placeholder}"
                                    a:required="true" />
                            </div>
                        </div>

                        <div class="form-group">
                            <h:outputLabel
                                styleClass="col-xs-6 col-lg-5"
                                value="#{texts.public_holidays_duration}"></h:outputLabel>

                            <div class="col-xs-6 col-lg-5">
                                <h:inputText styleClass="form-control"
                                    value="#{publicHolidaysBean.newPublicHoliday.duration}"
                                    a:placeholder="#{texts.public_holidays_duration_placeholder}"
                                    a:required="true" />
                            </div>
                        </div>

                        <div class="form-group">
                            <h:outputLabel
                                styleClass="col-xs-6 col-lg-5"
                                value="#{texts.public_holidays_regions}"></h:outputLabel>

                            <h:panelGroup styleClass="col-xs-6 col-lg-5">
                                <h:selectManyListbox
                                    styleClass="form-control"
                                    style="input-group"
                                    value="#{publicHolidaysBean.selectedRegions}">
                                    <f:selectItems
                                        value="#{publicHolidaysBean.allRegions}" 
                                        var="region"
                                        itemValueAsString="#{region.id}"
                                        itemLabel="#{region.country} - #{region.name}"/>

                                    <f:converter converterId="ch.hftm.wtm.customConverter.RegionConverter" />
                                </h:selectManyListbox>
                            </h:panelGroup>
                        </div>

                        <div class="form-group">
                            <h:outputLabel
                                styleClass="col-xs-6 col-lg-5"
                                value="#{texts.public_holidays_isActive}"></h:outputLabel>

                            <div class="col-xs-6 col-lg-5">
                                <h:selectBooleanCheckbox
                                    styleClass="form-control"
                                    value="#{publicHolidaysBean.newPublicHoliday.isActive}" />
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-6 col-lg-5">
                                <div class="btn-toolbar">
                                    <h:commandButton
                                        value="#{texts.public_holidays_submit}"
                                        action="#{publicHolidaysBean.submit}"
                                        styleClass="btn btn-info btn-sm" />
                                </div>
                            </div>
                        </div>
                    </h:form>
                </div>
            </div>
        </div>
        <div class="col-xs-6 col-lg-5">
            <div class="col-xs-12 col-lg-12">
                <div class="page-content">
                    <h:form styleClass="form-horizontal">
                        <div class="form-group">
                            <h:outputLabel
                                styleClass="col-xs-6 col-lg-5"
                                value="#{texts.public_holidays_region_country}"></h:outputLabel>

                            <div class="col-xs-6 col-lg-5">
                                <h:inputText styleClass="form-control"
                                    a:placeholder="#{texts.public_holidays_title_region_country_placeholder}"
                                    value="#{publicHolidaysBean.newRegion.country}"
                                    a:required="true" />
                            </div>
                        </div>

                        <div class="form-group">
                            <h:outputLabel
                                styleClass="col-xs-6 col-lg-5"
                                value="#{texts.public_holidays_region_name}"></h:outputLabel>

                            <div class="col-xs-6 col-lg-5">
                                <h:inputText styleClass="form-control"
                                    a:placeholder="#{texts.public_holidays_title_region_name_placeholder}"
                                    value="#{publicHolidaysBean.newRegion.name}"
                                    a:required="true" />
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-6 col-lg-5">
                                <div class="btn-toolbar">
                                    <h:commandButton
                                        value="#{texts.public_holidays_region_submit}"
                                        action="#{publicHolidaysBean.submitNewRegion}"
                                        styleClass="btn btn-info btn-sm" />
                                </div>
                            </div>
                        </div>
                    </h:form>
                </div>
            </div>
            <div class="col-xs-12 col-lg-12">
                <div class="page-content">
                    <h:form>
                        <h:dataTable class="table table-hover"
                            value="#{publicHolidaysBean.allRegions}"
                            var="singleRegion">

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText
                                        value="#{texts.public_holidays_region_name}" />
                                </f:facet>

                                <h:outputText
                                    value="#{singleRegion.name}" />
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText
                                        value="#{texts.public_holidays_region_country}" />
                                </f:facet>

                                <h:outputText
                                    value="#{singleRegion.country}" />
                            </h:column>

                            <h:column>
                                <h:commandButton value="delete"
                                    action="#{publicHolidaysBean.delete(singleRegion)}" />
                            </h:column>
                        </h:dataTable>
                    </h:form>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>